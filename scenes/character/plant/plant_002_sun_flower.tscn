[gd_scene load_steps=41 format=3 uid="uid://wte35drumapp"]

[ext_resource type="PackedScene" uid="uid://c5cke4cm02um7" path="res://scenes/character/plant/plant_000_base.tscn" id="1_3q4dl"]
[ext_resource type="Script" uid="uid://cw14nqa0mih0i" path="res://scripts/character/plant/plant_002_sun_flower.gd" id="2_vbc7f"]
[ext_resource type="Texture2D" uid="uid://cy3xu8ug3gd2" path="res://assets/reanim/PeaShooter_backleaf.png" id="3_1op7k"]
[ext_resource type="Texture2D" uid="uid://cyknr5ymersct" path="res://assets/reanim/PeaShooter_backleaf_lefttip.png" id="4_vbc7f"]
[ext_resource type="Texture2D" uid="uid://i7fngqj5l36a" path="res://assets/reanim/PeaShooter_backleaf_righttip.png" id="5_dowj6"]
[ext_resource type="Texture2D" uid="uid://yxv2bpco6d57" path="res://assets/reanim/PeaShooter_stalk_bottom.png" id="6_5jjc0"]
[ext_resource type="Texture2D" uid="uid://bu8g84fe1ni48" path="res://assets/reanim/PeaShooter_stalk_top.png" id="7_32i5t"]
[ext_resource type="Texture2D" uid="uid://300aew7liup" path="res://assets/reanim/PeaShooter_frontleaf.png" id="8_vp3q1"]
[ext_resource type="Texture2D" uid="uid://nj6m28m6k5p1" path="res://assets/reanim/PeaShooter_frontleaf_righttip.png" id="9_cu2um"]
[ext_resource type="Texture2D" uid="uid://dit0i5evvco14" path="res://assets/reanim/PeaShooter_frontleaf_lefttip.png" id="10_jf80v"]
[ext_resource type="Texture2D" uid="uid://cqimtpo6uxpvv" path="res://assets/reanim/SunFlower_leftpetal8.png" id="11_uqrih"]
[ext_resource type="Texture2D" uid="uid://dba05af6m14qb" path="res://assets/reanim/SunFlower_leftpetal7.png" id="12_v8486"]
[ext_resource type="Texture2D" uid="uid://f43xv0aun5yb" path="res://assets/reanim/SunFlower_leftpetal6.png" id="13_hddd6"]
[ext_resource type="Texture2D" uid="uid://df06anw7nt00g" path="res://assets/reanim/SunFlower_leftpetal5.png" id="14_j8cc2"]
[ext_resource type="Texture2D" uid="uid://csycwxx4kl7gc" path="res://assets/reanim/SunFlower_leftpetal4.png" id="15_dme1b"]
[ext_resource type="Texture2D" uid="uid://coqi3vpwq3dft" path="res://assets/reanim/SunFlower_leftpetal3.png" id="16_0ok7d"]
[ext_resource type="Texture2D" uid="uid://dj5sy8aolaots" path="res://assets/reanim/SunFlower_leftpetal2.png" id="17_nmejw"]
[ext_resource type="Texture2D" uid="uid://c88ujwcx255a7" path="res://assets/reanim/SunFlower_leftpetal1.png" id="18_pw6u3"]
[ext_resource type="Texture2D" uid="uid://c33g6guw6tx2v" path="res://assets/reanim/SunFlower_bottompetals.png" id="19_dfogl"]
[ext_resource type="Texture2D" uid="uid://dl82be6txvuxn" path="res://assets/reanim/SunFlower_rightpetal9.png" id="20_ue2yt"]
[ext_resource type="Texture2D" uid="uid://bg2vmisbxbjaj" path="res://assets/reanim/SunFlower_rightpetal8.png" id="21_igtt6"]
[ext_resource type="Texture2D" uid="uid://vov3fyb78wmx" path="res://assets/reanim/SunFlower_rightpetal7.png" id="22_ar00w"]
[ext_resource type="Texture2D" uid="uid://bv60pjqhu0vxm" path="res://assets/reanim/SunFlower_rightpetal6.png" id="23_exg78"]
[ext_resource type="Texture2D" uid="uid://bnb4xvrduvnxl" path="res://assets/reanim/SunFlower_rightpetal5.png" id="24_c2iyl"]
[ext_resource type="Texture2D" uid="uid://bds7y48b8uyoq" path="res://assets/reanim/SunFlower_rightpetal4.png" id="25_k4mil"]
[ext_resource type="Texture2D" uid="uid://c36k2lh6ryu1i" path="res://assets/reanim/SunFlower_rightpetal3.png" id="26_uudhq"]
[ext_resource type="Texture2D" uid="uid://b0k8h0fw04b17" path="res://assets/reanim/SunFlower_rightpetal2.png" id="27_5r6pb"]
[ext_resource type="Texture2D" uid="uid://2mhgcxn85ix5" path="res://assets/reanim/SunFlower_rightpetal1.png" id="28_c07id"]
[ext_resource type="Texture2D" uid="uid://cnigbyvgwk626" path="res://assets/reanim/SunFlower_toppetals.png" id="29_2q2wl"]
[ext_resource type="Texture2D" uid="uid://cu06igj1jmdy" path="res://assets/reanim/SunFlower_head.png" id="30_st0ig"]
[ext_resource type="Texture2D" uid="uid://6sig2vr6hn5j" path="res://assets/reanim/SunFlower_blink2.png" id="31_waaya"]
[ext_resource type="Animation" uid="uid://b1ck53g20rabf" path="res://animation/character/plant/002_sun_flower/SunFlower_idle.tres" id="32_571m8"]
[ext_resource type="Script" uid="uid://0hywxqemaott" path="res://scripts/character/components/component_create_sun.gd" id="34_1op7k"]
[ext_resource type="Script" uid="uid://jl0nl4a234bc" path="res://scripts/resources/resource_body_change.gd" id="34_vbc7f"]
[ext_resource type="Texture2D" uid="uid://cyuub21d8s1ih" path="res://assets/reanim/SunFlower_blink1.png" id="35_dowj6"]

[sub_resource type="Resource" id="Resource_5jjc0"]
script = ExtResource("34_vbc7f")
sprite_change = Array[NodePath]([NodePath("../Body/BodyCorrect/Anim_blink")])
sprite_change_texture = Array[Texture2D]([ExtResource("31_waaya"), ExtResource("35_dowj6")])
metadata/_custom_type_script = "uid://jl0nl4a234bc"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_p20s5"]
_data = {
&"SunFlower_idle": ExtResource("32_571m8")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3ucv5"]
animation = &"SunFlower_idle"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_pq6s2"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_kbloa"]
nodes/output/position = Vector2(840, 140)
nodes/Animation/node = SubResource("AnimationNodeAnimation_3ucv5")
nodes/Animation/position = Vector2(360, 140)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_pq6s2")
nodes/TimeScale/position = Vector2(660, 140)
node_connections = [&"output", 0, &"TimeScale", &"TimeScale", 0, &"Animation"]

[node name="Plant002SunFlower" node_paths=PackedStringArray("node_no_change_direction") instance=ExtResource("1_3q4dl")]
script = ExtResource("2_vbc7f")
plant_type = 2
node_no_change_direction = [NodePath("HpComponent"), NodePath("SleepComponent"), null]

[node name="BodyCorrect" parent="Body" index="0"]
position = Vector2(-43, -69)

[node name="Backleaf" type="Sprite2D" parent="Body/BodyCorrect" index="0"]
position = Vector2(27.7, 53.752586)
scale = Vector2(0.5631573, 0.5191078)
texture = ExtResource("3_1op7k")
centered = false

[node name="Backleaf_left_tip" type="Sprite2D" parent="Body/BodyCorrect" index="1"]
position = Vector2(25.063147, 54.352585)
rotation = 0.010746765
scale = Vector2(0.5680517, 0.52500224)
skew = 0.0034904105
texture = ExtResource("4_vbc7f")
centered = false

[node name="Backleaf_right_tip" type="Sprite2D" parent="Body/BodyCorrect" index="2"]
position = Vector2(47.363148, 53.61573)
rotation = 0.0039494326
scale = Vector2(0.58599776, 0.52500224)
skew = 0.0034907474
texture = ExtResource("5_dowj6")
centered = false

[node name="Stalk_bottom" type="Sprite2D" parent="Body/BodyCorrect" index="3"]
position = Vector2(36.52629, 51.784267)
rotation = 0.0580507
scale = Vector2(0.55663145, 0.5853663)
skew = -0.018829798
texture = ExtResource("6_5jjc0")
centered = false

[node name="Stalk_top" type="Sprite2D" parent="Body/BodyCorrect" index="4"]
position = Vector2(31.815731, 41.710785)
rotation = 0.05345843
scale = Vector2(0.55663145, 0.6816225)
skew = -0.021677708
texture = ExtResource("7_32i5t")
centered = false

[node name="Frontleaf" type="Sprite2D" parent="Body/BodyCorrect" index="5"]
position = Vector2(22.636854, 53.747414)
scale = Vector2(0.56052583, 0.577209)
texture = ExtResource("8_vp3q1")
centered = false

[node name="Frontleaf_right_tip" type="Sprite2D" parent="Body/BodyCorrect" index="6"]
position = Vector2(55.97371, 55.41056)
rotation = -0.040966664
scale = Vector2(0.6023124, 0.5811034)
texture = ExtResource("9_cu2um")
centered = false

[node name="Frontleaf_left_tip" type="Sprite2D" parent="Body/BodyCorrect" index="7"]
position = Vector2(19.263145, 60.68427)
rotation = 0.039220665
scale = Vector2(0.5843663, 0.5811034)
texture = ExtResource("10_jf80v")
centered = false

[node name="SunFlower_leftpetal8" type="Sprite2D" parent="Body/BodyCorrect" index="8"]
position = Vector2(24.094608, 45.45281)
rotation = -0.012491765
scale = Vector2(0.8, 0.83926517)
skew = 0.012491765
texture = ExtResource("11_uqrih")
centered = false

[node name="SunFlower_leftpetal7" type="Sprite2D" parent="Body/BodyCorrect" index="9"]
position = Vector2(15.831462, 41.137077)
rotation = -0.021869438
scale = Vector2(1.004737, 1.0497394)
skew = 0.021869438
texture = ExtResource("12_v8486")
centered = false

[node name="SunFlower_leftpetal6" type="Sprite2D" parent="Body/BodyCorrect" index="10"]
position = Vector2(10.494608, 36.521343)
rotation = 0.05611346
scale = Vector2(0.81252587, 0.83926517)
skew = -0.05611346
texture = ExtResource("13_hddd6")
centered = false

[node name="SunFlower_leftpetal5" type="Sprite2D" parent="Body/BodyCorrect" index="11"]
position = Vector2(7.2946076, 30.521345)
rotation = 0.026721327
scale = Vector2(0.80663145, 0.8087888)
skew = -0.026721327
texture = ExtResource("14_j8cc2")
centered = false

[node name="SunFlower_leftpetal4" type="Sprite2D" parent="Body/BodyCorrect" index="12"]
position = Vector2(9.857754, 22.610785)
rotation = -0.0011101048
scale = Vector2(0.80436856, 0.7918427)
skew = 0.0011101048
texture = ExtResource("15_dme1b")
centered = false

[node name="SunFlower_leftpetal3" type="Sprite2D" parent="Body/BodyCorrect" index="13"]
position = Vector2(14.131461, 17.3582)
rotation = 0.0034827956
scale = Vector2(0.805, 0.7918427)
skew = -0.0034827956
texture = ExtResource("16_0ok7d")
centered = false

[node name="SunFlower_leftpetal2" type="Sprite2D" parent="Body/BodyCorrect" index="14"]
position = Vector2(21.231462, 12.137076)
rotation = -0.012491765
scale = Vector2(1, 1.0163146)
skew = 0.012491765
texture = ExtResource("17_nmejw")
centered = false

[node name="SunFlower_leftpetal1" type="Sprite2D" parent="Body/BodyCorrect" index="15"]
position = Vector2(27.431461, 10.521346)
rotation = -0.012491765
scale = Vector2(0.8, 0.83489215)
skew = 0.012491765
texture = ExtResource("18_pw6u3")
centered = false

[node name="SunFlower_bottompetals" type="Sprite2D" parent="Body/BodyCorrect" index="16"]
position = Vector2(31.957756, 45.7791)
rotation = -0.012491765
scale = Vector2(0.8, 0.8936382)
skew = 0.012491765
texture = ExtResource("19_dfogl")
centered = false

[node name="SunFlower_rightpetal9" type="Sprite2D" parent="Body/BodyCorrect" index="17"]
position = Vector2(45.131462, 45.08966)
rotation = -0.012491765
scale = Vector2(0.8, 0.83926517)
skew = 0.012491765
texture = ExtResource("20_ue2yt")
centered = false

[node name="SunFlower_rightpetal8" type="Sprite2D" parent="Body/BodyCorrect" index="18"]
position = Vector2(49.694607, 42.426514)
rotation = 0.01938677
scale = Vector2(0.80136853, 0.83926517)
skew = -0.01938677
texture = ExtResource("21_igtt6")
centered = false

[node name="SunFlower_rightpetal7" type="Sprite2D" parent="Body/BodyCorrect" index="19"]
position = Vector2(53.394608, 39.226513)
rotation = 0.01938677
scale = Vector2(0.80136853, 0.83926517)
skew = -0.01938677
texture = ExtResource("22_ar00w")
centered = false

[node name="SunFlower_rightpetal6" type="Sprite2D" parent="Body/BodyCorrect" index="20"]
position = Vector2(58.3209, 34.337074)
rotation = 0.01810057
scale = Vector2(0.80136853, 0.8087888)
skew = -0.01810057
texture = ExtResource("23_exg78")
centered = false

[node name="SunFlower_rightpetal5" type="Sprite2D" parent="Body/BodyCorrect" index="21"]
position = Vector2(59.99461, 28.46337)
rotation = -0.04408423
scale = Vector2(0.8062629, 0.8087888)
skew = 0.04408423
texture = ExtResource("24_c2iyl")
centered = false

[node name="SunFlower_rightpetal4" type="Sprite2D" parent="Body/BodyCorrect" index="22"]
position = Vector2(57.3209, 20.07393)
rotation = -0.04849246
scale = Vector2(1.0078944, 1.0609956)
skew = 0.04849246
texture = ExtResource("25_k4mil")
centered = false

[node name="SunFlower_rightpetal3" type="Sprite2D" parent="Body/BodyCorrect" index="23"]
position = Vector2(53.694607, 16.621346)
rotation = -0.03884823
scale = Vector2(1.0062629, 1.1233597)
skew = 0.03884823
texture = ExtResource("26_uudhq")
centered = false

[node name="SunFlower_rightpetal2" type="Sprite2D" parent="Body/BodyCorrect" index="24"]
position = Vector2(49.43146, 13.158199)
rotation = 0.01810057
scale = Vector2(0.80136853, 0.8391551)
skew = -0.01810057
texture = ExtResource("27_5r6pb")
centered = false

[node name="SunFlower_rightpetal1" type="Sprite2D" parent="Body/BodyCorrect" index="25"]
position = Vector2(44.194607, 10.568761)
rotation = -0.012491765
scale = Vector2(0.8, 0.9125709)
skew = 0.012491765
texture = ExtResource("28_c07id")
centered = false

[node name="SunFlower_toppetals" type="Sprite2D" parent="Body/BodyCorrect" index="26"]
position = Vector2(33.631462, 9.642469)
rotation = -0.012491765
scale = Vector2(0.8, 0.96577764)
skew = 0.012491765
texture = ExtResource("29_2q2wl")
centered = false

[node name="Anim_idle" type="Sprite2D" parent="Body/BodyCorrect" index="27"]
position = Vector2(16.094608, 16.384493)
scale = Vector2(0.8, 0.75994384)
texture = ExtResource("30_st0ig")
centered = false

[node name="Anim_blink" type="Sprite2D" parent="Body/BodyCorrect" index="28"]
visible = false
position = Vector2(28.631472, 23.28088)
scale = Vector2(0.8, 0.8)
texture = ExtResource("31_waaya")
centered = false

[node name="Marker2DCreateSun" type="Marker2D" parent="Body/BodyCorrect" index="29"]
position = Vector2(43, 27)

[node name="SleepComponent" parent="." index="4" node_paths=PackedStringArray("sleep_influence_components")]
sleep_influence_components = [NodePath("../BlinkComponent"), NodePath("../CreateSunComponent")]

[node name="BlinkComponent" parent="." index="5"]
all_blink_body_change = Array[ExtResource("34_vbc7f")]([SubResource("Resource_5jjc0")])

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="8"]
libraries = {
&"": SubResource("AnimationLibrary_p20s5")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="9"]
tree_root = SubResource("AnimationNodeBlendTree_kbloa")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../AnimationPlayer")
parameters/TimeScale/scale = 1.2

[node name="CreateSunComponent" type="Node2D" parent="." index="10" node_paths=PackedStringArray("marker_2d_create_sun")]
script = ExtResource("34_1op7k")
marker_2d_create_sun = NodePath("../Body/BodyCorrect/Marker2DCreateSun")

[node name="CreateSunTimer" type="Timer" parent="CreateSunComponent" index="0"]
one_shot = true

[connection signal="timeout" from="CreateSunComponent/CreateSunTimer" to="CreateSunComponent" method="_on_create_sun_timer_timeout"]
